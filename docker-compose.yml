version: "3.9"
 # full compose file, deprecated
services:
  simple-proxy:
    build:
      context: /tmp/empty
      dockerfile: ${DOCKER_IMAGE_DIRECTORY:-PWD}/pk-proxy/Dockerfile.pk-proxy-image   # change if you named it differently
    container_name: pk-proxy-image
    ports:
      - "3000:${PK_PROXY_PORT:-3222}"
    restart: unless-stopped
  minecraft-image:
  # Generated by setupmc.com
    image: itzg/minecraft-server:latest
    tty: true
    stdin_open: true
    ports:
      - "25565:25565"
      - "24454:24454/udp"
    environment:
      EULA: "TRUE"
      TYPE: "FABRIC"
      VERSION: "LATEST"
      MEMORY: "512M"
      MAX_PLAYERS: "10"
      MOTD: "ALASKA SERVER MINECRAFT SERVER \n welcome to the new world"
      ICON: "https://img.icons8.com/?size=64&id=peN1BybXB8su&format=png&color=000000"
      OVERRIDE_ICON: "true"
      ONLINE_MODE: "false"
      USE_AIKAR_FLAGS: "true"
      USE_MEOWICE_FLAGS: "true"
      LEVEL: "alaska-minecraft-world"
      ENFORCE_SECURE_PROFILE: "false"
      PAUSE_WHEN_EMPTY_SECONDS: "120"
      PLAYER_IDLE_TIMEOUT: "10"
      BROADCAST_CONSOLE_TO_OPS: "false"
      MODRINTH_PROJECTS: |
        simple-voice-chat
      BROADCAST_RCON_TO_OPS: "false"
    volumes:
      - "${MINECRAFT_DATA_DIRECTORY}:/data"
  bombsquad-image:
    build:
        context: /tmp/empty
        dockerfile: ${DOCKER_IMAGE_DIRECTORY:-PWD}/Dockerfile.bombsquad-server
        args:
        - TARGETARCH:${TARGETARCH}
        - BOMBSQUAD_VERSION:${BOMBSQUAD_VERSION}
    ports:
      - 43210:43210/udp
    restart: unless-stopped
  stirling-pdf:
    image: docker.stirlingpdf.com/stirlingtools/stirling-pdf:latest
    ports:
      - '8080:5500'
    volumes:
      - ./StirlingPDF/trainingData:/usr/share/tessdata # Required for extra OCR languages
      - ./StirlingPDF/extraConfigs:/configs
      - ./StirlingPDF/customFiles:/customFiles/
      - ./StirlingPDF/logs:/logs/
      - ./StirlingPDF/pipeline:/pipeline/
    environment:
      - DISABLE_ADDITIONAL_FEATURES=false
      - LANGS=en_GB
  jupyter-notebook:
    build:
      dockerfile: ${PWD}/Dockerfile.jupyter
    ports:
      - '8888:8888'
    volumes:
      - ./volumes/jupyter:/app